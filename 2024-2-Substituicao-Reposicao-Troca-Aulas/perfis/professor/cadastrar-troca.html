<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Guias ‚Äî Cadastrar Troca - SGRST</title>
    <link rel="stylesheet" href="../../css/style.css" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body>

    <!-- TOPO -->
    <header class="topbar">
        <div class="top-left">
            <img src="../../imagens/logo.jpg" alt="Logo IFSP" class="logo">
            <button id="menuBtn" class="hamburger" aria-label="Abrir menu">‚ò∞</button>
        </div>
        <div class="top-right">
            <button id="darkModeBtn" class="darkmode" aria-label="Ativar modo escuro">üåô</button>
        </div>
    </header>

    <!-- MENU LATERAL -->
    <aside class="sidebar closed" id="sidebar" aria-hidden="true">
        <nav class="side-nav">
            <a href="../../manual/index.html" class="nav-link">Manual</a>
            <a href="../../introducao/index.html" class="nav-link">Introdu√ß√£o</a>

            <div class="menu-item">
                <span class="subtitulo">Perfis <span class="material-icons arrow">expand_more</span></span>
                <div class="submenu">
                    <a href="../index.html">Geral</a>
                    <a href="index.html">Professor</a>
                    <a href="../coordenador/index.html">Coordenador</a>
                    <a href="../cae/index.html">CAE</a>
                </div>
            </div>

            <div class="menu-item">
                <span class="subtitulo">Guias <span class="material-icons arrow">expand_more</span></span>
                <div class="submenu">

                    <div class="menu-item">
                        <span class="subtitulo">Professor <span class="material-icons arrow">expand_more</span></span>
                        <div class="submenu">
                            <a href="cadastrar-troca.html" class="active">Cadastrar Troca de Aulas</a>
                            <a href="listar-troca.html">Gerenciar Trocas de Aulas</a>
                            <a href="horarios-cadastrar.html">Cadastrar Hor√°rios</a>
                            <a href="horarios-listar.html">Gerenciar Hor√°rios</a>
                        </div>
                    </div>

                    <div class="menu-item">
                        <span class="subtitulo">Coordenador <span class="material-icons arrow">expand_more</span></span>
                        <div class="submenu">
                            <a href="../coordenador/cadastrar-troca.html">Cadastrar Troca de Aulas</a>
                            <a href="../coordenador/listar-troca.html">Gerenciar Trocas de Aulas</a>
                            <a href="../coordenador/disciplinas.html">Disciplinas</a>
                            <a href="../coordenador/horarios.html">Hor√°rios</a>
                        </div>
                    </div>

                    <div class="menu-item">
                        <span class="subtitulo">CAE <span class="material-icons arrow">expand_more</span></span>
                        <div class="submenu">
                            <a href="../cae/cursos.html">Cursos</a>
                            <a href="../cae/servidores.html">Servidores</a>
                            <a href="../cae/consultar-trocas.html">Consultar Trocas</a>
                        </div>
                    </div>

                    <a href="../../acesso/login.html">Login</a>
                    <a href="../../acesso/recuperar-alterar-senha.html">Recuperar/Alterar Senha</a>
                </div>
            </div>
        </nav>
    </aside>

    <!-- √çNDICE -->
    <aside class="toc" id="page-toc" aria-label="√çndice da p√°gina">
        <h3>√çndice</h3>
        <ul id="toc-list">
            <li><a href="#descricao" class="toc-link">Descri√ß√£o</a></li>
            <li><a href="#passo-a-passo" class="toc-link">Passo a passo</a></li>
            <li><a href="#valida√ß√µes" class="toc-link">Valida√ß√µes</a></li>
            <li><a href="#imagens" class="toc-link">Imagens</a></li>
        </ul>
    </aside>

    <!-- CONTE√öDO -->
    <main class="content">
        <h1>üìù Cadastrar Troca de Aulas</h1>

        <section id="descricao">
            <h2>Descri√ß√£o</h2>
            <p>
                Nesta p√°gina o professor registra reposi√ß√£o, substitui√ß√£o ou troca de aulas. O cadastro cont√©m data,
                hor√°rio inicial, quantidade de aulas, disciplina, professor respons√°vel, tipo da solu√ß√£o (reposi√ß√£o,
                substitui√ß√£o ou troca) e, se aplic√°vel, professor substituto. Ap√≥s criar, o sistema notifica
                automaticamente o
                professor substituto (quando informado).
            </p>
        </section>

        <section id="passo-a-passo">
            <h2>Passo a passo</h2>

            <ol>
                <li>
                    Na barra lateral, clique em <strong>Cadastrar Troca de Aula</strong>.
                </li>

                <li>
                    No formul√°rio abaixo preencha:
                    <ul>
                        <li><strong>Data</strong> ‚Äî selecione a data da aula (n√£o pode ser anterior ao dia atual).</li>
                        <li><strong>Hor√°rio inicial</strong> ‚Äî escolha o hor√°rio (ex.: 07:00, 08:50 etc.).</li>
                        <li><strong>Quantidade de aulas</strong> ‚Äî n√∫mero de aulas consecutivas a serem trocadas.</li>
                        <li><strong>Disciplina</strong> ‚Äî selecione a disciplina correspondente.</li>
                        <li><strong>Professor respons√°vel</strong> ‚Äî usu√°rio logado (preenchido automaticamente).</li>
                        <li><strong>Tipo de solu√ß√£o</strong> ‚Äî Reposi√ß√£o, Substitui√ß√£o ou Troca.</li>
                        <li><strong>Professor substituto</strong> ‚Äî (opcional) selecione outro professor para
                            substituir.</li>
                        <li><strong>Descri√ß√£o / motivo</strong> ‚Äî explique o motivo da solicita√ß√£o.</li>
                    </ul>
                </li>

                <li>
                    Clique em <strong>Cadastrar</strong>. Se houver erro de valida√ß√£o (data passada, hor√°rio final
                    menor, etc.)
                    o sistema exibir√° uma mensagem.
                </li>

                <li>
                    Ap√≥s cadastro bem-sucedido, uma notifica√ß√£o √© enviada ao professor substituto (quando informado)
                    contendo
                    data, hor√°rio e professor respons√°vel.
                </li>
            </ol>
        </section>

        <section id="valida√ß√µes" style="margin-top:20px">
            <h2>Valida√ß√µes importantes</h2>
            <ul>
                <li>O hor√°rio final deve ser maior que o hor√°rio inicial.</li>
                <li>A data n√£o pode ser anterior ao dia atual.</li>
                <li>A quantidade de aulas m√°ximas permitidas depende do hor√°rio inicial.</li>
                <li>O professor substituto, se preenchido, n√£o pode ser o usu√°rio logado.</li>
                <li>Quantidade de aulas respeita o m√°ximo por bloco.</li>
            </ul>
        </section>

        <section id="imagens" style="margin-top:20px">
            <figure>
                <img src="../../imagens/cadastro-troca-prof.png" alt="Tela de cadastro de troca de aula"
                    style="max-width:100%;height:auto;border:1px solid #ddd;border-radius:6px">
                <figcaption>Tela de Cadastro de Troca de Aula.</figcaption>
            </figure>

            <figure style="margin-top:12px">
                <img src="../../imagens/notifica√ß√£o-trocaAula.png" alt="Notifica√ß√£o enviada ao substituto"
                    style="max-width:100%;height:auto;border:1px solid #ddd;border-radius:6px">
                <figcaption>Exemplo de notifica√ß√£o enviada ao professor substituto.</figcaption>
            </figure>
        </section>

    </main>

    <!-- FOOTER -->
    <footer class="footer" id="page-footer">
        <p>Desenvolvido por discentes do IFSP - Campus Presidente Epit√°cio</p>
        <p>¬© 2025 IFSP - Campus Presidente Epit√°cio</p>
    </footer>

    <!-- SCRIPT -->
    <script>
        const menuBtn = document.getElementById('menuBtn');
        const sidebar = document.getElementById('sidebar');
        const body = document.body;
        const headerOffset = 80;

        // abre o menu por padr√£o ao carregar a p√°gina
        window.addEventListener('load', () => {
            sidebar.classList.add('open');
            body.classList.add('menu-open');
            sidebar.setAttribute('aria-hidden', 'false');
        });

        menuBtn.addEventListener('click', () => {
            sidebar.classList.toggle('open');
            body.classList.toggle('menu-open');
            sidebar.setAttribute('aria-hidden', !sidebar.classList.contains('open'));
        });

        document.querySelectorAll('.subtitulo').forEach(sub => {
            sub.addEventListener('click', () => {
                sub.parentElement.classList.toggle('open');
            });
        });

        document.getElementById('darkModeBtn').addEventListener('click', () => {
            body.classList.toggle('dark');
        });

        // Smooth scroll + destaque no √≠ndice
        document.querySelectorAll('.toc a').forEach(a => {
            a.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = a.getAttribute('href').slice(1);
                const el = document.getElementById(targetId);
                if (!el) return;
                const topPos = el.getBoundingClientRect().top + window.scrollY - headerOffset;
                window.scrollTo({ top: topPos, behavior: 'smooth' });
                document.querySelectorAll('.toc a').forEach(x => x.classList.remove('active'));
                a.classList.add('active');
            });
        });

        // Valida√ß√µes simples do formul√°rio (client-side ilustrativo)
        const form = document.getElementById('cadastroForm');
        const formMsg = document.getElementById('formMsg');

        form.addEventListener('submit', (ev) => {
            ev.preventDefault();
            formMsg.textContent = '';

            const data = document.getElementById('data').value;
            const horaInicial = document.getElementById('horaInicial').value;
            const quantidade = Number(document.getElementById('quantidade').value);
            const tipo = document.getElementById('tipoSolucao').value;
            const substituto = document.getElementById('substituto').value;
            const responsavel = document.getElementById('responsavel').value || '';

            // valida data
            if (!data) {
                formMsg.textContent = 'Selecione a data.';
                return;
            }
            const hoje = new Date();
            hoje.setHours(0, 0, 0, 0);
            const d = new Date(data + 'T00:00:00');
            if (d < hoje) {
                formMsg.textContent = 'N√£o √© permitido selecionar uma data anterior ao dia atual.';
                return;
            }

            // exemplo: proibir substituto igual ao respons√°vel (simula√ß√£o)
            if (substituto && substituto.trim() !== '' && substituto === responsavel) {
                formMsg.textContent = 'O professor substituto n√£o pode ser o mesmo que o respons√°vel (salvo para coordenadores).';
                return;
            }

            // checagem b√°sica de hor√°rio/quantidade
            if (!horaInicial) {
                formMsg.textContent = 'Selecione o hor√°rio inicial.';
                return;
            }
            if (!quantidade || quantidade < 1) {
                formMsg.textContent = 'Informe a quantidade de aulas (m√≠nimo 1).';
                return;
            }

            // aqui voc√™ chamaria a API / salvaria ‚Äî este √© um exemplo ilustrativo
            formMsg.style.color = 'green';
            formMsg.textContent = 'Cadastro simulado realizado com sucesso (exemplo).';
            setTimeout(() => { formMsg.textContent = ''; formMsg.style.color = '#c33'; }, 4000);
        });
    </script>

</body>

</html>